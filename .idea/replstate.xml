<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="ReplState" timestamp="1461108693862">{:repl-history {:ide [], :local [&quot;(*ns*\n  )&quot; &quot;*ns*&quot; &quot;start-server&quot; &quot;(incoming-message \&quot;086\&quot; \&quot;087\&quot; \&quot;hello\&quot;)&quot; &quot;(incoming-message \&quot;087\&quot; \&quot;086\&quot; \&quot;hello\&quot;)&quot; &quot;(rvc incoming-queue)&quot; &quot;(incoming-queue)&quot; &quot;(+ 1 1)&quot; &quot;(channel)&quot; &quot;(snd incoming-queue 90)&quot; &quot;(print incoming-queue)&quot; &quot;(snd incoming-queue \&quot;hello\&quot;)&quot; &quot;(incoming-message 086 087 \&quot;hello\&quot;)&quot; &quot;(incoming-message 086 087 \&quot;helloo\&quot;)&quot; &quot;(rcv incoming-queue)&quot; &quot;(fiber + 1 1)&quot; &quot;(fiber (+ 1 1))&quot; &quot;(let [v1 (promise)\n      v2 (promise)\n      v3 (promise)\n      v4 (promise)\n      f1 (spawn-fiber #(deliver v2 (+ @v1 1)))\n      t1 (spawn-thread #(deliver v3 (+ @v1 @v2)))\n      f2 (spawn-fiber #(deliver v4 (+ @v3 @v2)))]\n  (Strand/sleep 50)\n  (deliver v1 1)\n  @v4)&quot; &quot;(println app)&quot; &quot;(-main\n  )&quot; &quot;(stop-server\n  )&quot; &quot;@message-server&quot; &quot;(doc stop-server)&quot; &quot;(doc start-server)&quot; &quot;(start-server)&quot; &quot;(use bidi.bidi)&quot; &quot;(use 'bidi.bidi)&quot; &quot;(match-route api-routes \&quot;/message.html\&quot;)&quot; &quot;(stop-server)&quot; &quot;(def test-message-system\n  (do\n    (incoming-message \&quot;086\&quot; \&quot;087\&quot; \&quot;hello\&quot;)\n    (fiber\n      (let [message (rcv incoming-queue)]\n        (println message)\n        (print-message message)))))&quot; &quot;(test-message-system)&quot; &quot;(fiber (print-message (rvc incoming-queue)))&quot; &quot;(-main 3033)&quot; &quot;(monitor-messages)&quot; &quot;()&quot; &quot;(require org.httpkit.client)&quot; &quot;(http/get \&quot;localhost:3033/user/0862561423/messages\&quot;)&quot; &quot;(client/get \&quot;https:localhost:3033/user/0862561423/messages\&quot;)&quot; &quot;(client/get \&quot;https://localhost:3033/user/0862561423/messages\&quot;)&quot; &quot;(client/get \&quot;localhost:3033/user/0862561423/messages\&quot;)&quot; &quot;(println)&quot; &quot;(println (client/get \&quot;http://localhost:3033/user/0862561423/messages\&quot;))&quot; &quot;(client/get \&quot;http://localhost:3033/user/0862561423/messages\&quot;)&quot; &quot;(def test-m (-&gt;Message \&quot;0871235\&quot; \&quot;0123213\&quot; \&quot;heiwqwe\&quot;))&quot; &quot;(Message-&gt;map test-m)&quot; &quot;(outgoing-messages \&quot;012973\&quot;)&quot; &quot;(reset-server)&quot; &quot;(def sample-messages [{:src \&quot;0871234567\&quot; \n                       :dest \&quot;0862561423\&quot;\n                       :message \&quot;sample message\&quot;}])&quot; &quot;(defn format-messages [message]\n  ({(:src message) [(dissoc message :dest)]}))&quot; &quot;(defn format-messages [message]\n  {(:src message) [(dissoc message :dest)]})&quot; &quot;(defn format-messages [messages]\n  (reduce\n    #(merge {(:src %) [(dissoc % :dest)]})\n    messages))&quot; &quot;(defn format-messages [messages]\n  (reduce\n    #(merge {(:src %) [(dissoc % :dest)]})\n    {}\n    messages))&quot; &quot;(defn format-message [message]\n  (into {} (:src message) message))&quot; &quot;(defn format-message [message]\n  (str (:src message) message))&quot; &quot;(defn format-message [message]\n  (hash-map (:src message) message))&quot; &quot;(defn format-message [message]\n  (hash-map (:src message) (dissoc message :dest)))&quot; &quot;(format-message (first sample-messages))&quot; &quot;(defn format-messages [messages]\n  (reduce\n    #(merge (format-message %)\n    {}\n    messages)))&quot; &quot;(defn format-messages [messages]\n  (reduce\n    #(merge (format-message %))\n    {}\n    messages))&quot; &quot;(defn format-messages [messages]\n  (reduce\n    #(merge (format-message %2) %1)\n    {}\n    messages))&quot; &quot;(def sample-messages [{:src     \&quot;0871234567\&quot;\n                       :dest    \&quot;0862561423\&quot;\n                       :message \&quot;sample message\&quot;}\n                      {:src \&quot;0861234567\&quot;\n                       :dest \&quot;0862561243\&quot;\n                       :message \&quot;another sample message\&quot;}])&quot; &quot;(format-messages sample-messages)&quot; &quot;(-main)&quot;], :remote []}}</component>
</project>